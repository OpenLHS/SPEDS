<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.16">
<meta name="description" content="Document de conception pour SPEDS Présentation">
<meta name="keywords" content="SPEDS">
<meta name="author" content="Équipe du GRIIS">
<meta name="copyright" content="GRIIS">
<title>Conception du module « SPEDS - présentation »</title>
<style>
@font-face {
    font-family: 'Fira Go';
    src: url('../fonts/FiraGO-Regular.ttf') format('truetype');
    font-weight: normal;
    font-style: normal;
}

@font-face {
    font-family: 'Fira Go';
    src: url('../fonts/FiraGO-Bold.ttf') format('truetype');
    font-weight: bold;
    font-style: normal;
}

@font-face {
    font-family: 'Fira Go';
    src: url('../fonts/FiraGO-Italic.ttf') format('truetype');
    font-weight: normal;
    font-style: italic;
}

/* Styles de base */
body {
    font-family: 'Fira Go', Arial, sans-serif;
    font-size: 12pt;
    color: #000000;
    line-height: 1.42;
    max-width: 100%;
    margin: 0 auto;
    padding: 0 1in;
    background-color: white;
}

/* Page et conteneur principal */
.document {
    max-width: 8.5in; /* Letter width minus margins */
    margin: 0 auto;
}

/* En-têtes */
h2, h3, h4, h5, h6 {
    color: #6ea1c5;
    font-size: 17pt;
    font-weight: bold;
    line-height: 1.2;
    margin-bottom: 10pt;
    margin-top: 20pt;
}

/* Page de titre */
.title-page {
    text-align: center;
    margin-top: 22%;
}

h1 {
    font-size: 28pt;
    font-weight: bold;
    color: black;
    margin-top: 100pt;
    margin-bottom: 100pt;
    text-align: center;
}

.details {
    font-size: 16pt;
    margin-bottom: 100pt;
    text-align: center;
}

.author {
    margin-bottom: 100pt;
}

.email {
    display: none;
}

#revnumber {
    display: none;
}

.details #revdate {
    margin-top: 100px;
    display: inline-block;
}

/* Logo en en-tête */
.title-logo {
    height: auto;
    width: auto;
    max-width: 340px;
}

/* Table des matières */

#toctitle {
    font-size: 24pt;
    font-weight: bold;
    color: #6ea1c5;
    margin-bottom: 30pt;
}

.toc {
    font-size: 14pt;
    page-break-before: always;
}

.toc ul {
    list-style: none;
    padding-left: 0;
}

.toc li {
    margin-bottom: 5pt;
}

.toc a {
    text-decoration: none;
    color: #1d4b8f;
}

.toc a:hover {
    color: #002FA7;
}

/* Liens */
a {
    color: #002FA7;
    text-decoration: underline;
}

a:hover {
    color: #6ea1c5;
}

/* Listes */
ul, ol {
    margin-left: 18pt; /* $base-font-size * 1.5 = 12 * 1.5 */
}

li {
    margin-bottom: 5pt;
}

/* Tableaux */
table {
    font-size: 10pt;
    border-collapse: collapse;
    width: 100%;
    margin: 15pt 0;
}

table th, table td {
    border: 1px solid #ccc;
    padding: 8pt;
    text-align: left;
}

table th {
    background-color: #f5f5f5;
    font-weight: bold;
}

.table-caption {
    text-align: center;
    margin-bottom: 10pt;
    font-style: italic;
}

/* Rôles personnalisés */
.removed {
    font-style: italic;
    text-decoration: line-through;
    text-decoration-color: #6ea1c5;
}

/* Admonitions */
.admonitionblock {
    margin: 15pt 0;
    margin-left: 10pt;
    padding: 10pt;
    border-left: 4px solid #6ea1c5;
    background-color: #f9f9f9;
}

.admonitionblock .title {
    font-weight: bold;
    color: #6ea1c5;
    margin-bottom: 5pt;
}

/* Blocs de code */
pre, code {
    font-family: 'Courier New', monospace;
    background-color: #f5f5f5;
    padding: 10pt;
    border: 1px solid #ddd;
    border-radius: 4px;
}

code {
    padding: 2pt 4pt;
    font-size: 11pt;
}

/* Paragraphes */
p {
    margin-bottom: 12pt;
    text-align: justify;
}

/* Citations */
blockquote {
    margin: 15pt 20pt;
    padding: 10pt;
    border-left: 4px solid #6ea1c5;
    font-style: italic;
    background-color: #f9f9f9;
}

/* Images */
img {
    max-width: 100%;
    height: auto;
}

.imageblock {
    text-align: center;
    margin: 15pt 0;
}

.image-caption {
    text-align: center;
    font-style: italic;
    margin-top: 5pt;
    font-size: 11pt;
}

/* Impression */
@media print {
    body {
        margin: 0.75in 1in;
    }

    .page-break {
        page-break-before: always;
    }

    /* Numérotation des pages en pied de page */
    @page {
        margin: 0.75in 1in;
        @bottom-right {
            content: counter(page);
            font-family: 'Fira Go', Arial, sans-serif;
            font-size: 10pt;
        }
    }
}
</style>
<div class="title-logo">
    <img src="themes/logo-griis-texte.png" alt="Logo GRIIS" class="header-logo">
</div>
</head>
<body class="book">
<div id="header">
<h1>Conception du module « <em>SPEDS - présentation</em> »</h1>
<div class="details">
<span id="author" class="author">Équipe du GRIIS</span><br>
<span id="email" class="email"><a href="mailto:info@griis.ca">info@griis.ca</a></span><br>
<span id="revnumber">version ,</span>
<span id="revdate">2025-07-01</span>
<br><span id="revremark"></span>
</div>
<div id="toc" class="toc">
<div id="toctitle">Table des matières</div>
<ul class="sectlevel1">
<li><a href="#_rôle_du_module">1. Rôle du module</a></li>
<li><a href="#_modèle_propre_au_module">2. Modèle propre au module</a>
<ul class="sectlevel2">
<li><a href="#_modèle_relié_au_client">2.1. Modèle relié au client</a></li>
<li><a href="#_modèle_relié_au_serveur">2.2. Modèle relié au serveur</a></li>
</ul>
</li>
<li><a href="#_mode_de_transmission">3. Mode de transmission</a></li>
<li><a href="#_type_au_module">4. Type au module</a>
<ul class="sectlevel2">
<li><a href="#_type_simple_de_données">4.1. Type simple de données</a></li>
<li><a href="#_type_complexe_de_données">4.2. Type complexe de données</a>
<ul class="sectlevel3">
<li><a href="#_format_dentête_ent_p">4.2.1. Format d’entête (<code>Ent_P</code>)</a></li>
<li><a href="#_message_pdu">4.2.2. Message (PDU)</a></li>
<li><a href="#_interface_de_lunité_de_données_du_service_idu">4.2.3. Interface de l&#8217;unité de données du service (IDU)</a></li>
</ul>
</li>
<li><a href="#_type_de_message">4.3. Type de message</a>
<ul class="sectlevel3">
<li><a href="#_pre_msg_env">4.3.1. PRE.MSG.ENV</a></li>
<li><a href="#_pre_msg_rec">4.3.2. PRE.MSG.REC</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_contrainte_du_module">5. Contrainte du module</a></li>
<li><a href="#_processus_du_module">6. Processus du module</a>
<ul class="sectlevel2">
<li><a href="#_processsus_pour_un_client">6.1. Processsus pour un client</a>
<ul class="sectlevel3">
<li><a href="#_pro_1_processus_demande_déchanger_des_données">6.1.1. [PRO-1] Processus « Demande d&#8217;échanger des données »</a></li>
<li><a href="#_pro_2_processus_confirme_léchange_de_données">6.1.2. [PRO-2] Processus « Confirme l&#8217;échange de données »</a></li>
</ul>
</li>
<li><a href="#_processus_pour_un_serveur">6.2. Processus pour un serveur</a>
<ul class="sectlevel3">
<li><a href="#_pro_3_processus_indique_un_échange_de_données">6.2.1. [PRO-3] Processus « Indique un échange de données »</a></li>
<li><a href="#_pro_4_processus_répond_à_un_échange_de_données">6.2.2. [PRO-4] Processus « Répond à un échange de données »</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_incongruités">7. Incongruités</a></li>
<li><a href="#_annexes">8. Annexes</a>
<ul class="sectlevel2">
<li><a href="#_glossaire">8.1. Glossaire</a></li>
<li><a href="#InterfaceDataUnit-1-2">8.2. <em>Interface Data Unit</em> entre la couche application (1) et la couche présentation (2)</a></li>
<li><a href="#InterfaceDataUnit-2-3">8.3. <em>Interface Data Unit</em> entre la couche présentation (2) et la couche session (3)</a></li>
<li><a href="#Message">8.4. <em>Protocol Data Unit</em> de la couche présentation (2)</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 1. Statut</caption>
<colgroup>
<col style="width: 70%;">
<col style="width: 10%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Statut</th>
<th class="tableblock halign-center valign-top">Initiales</th>
<th class="tableblock halign-right valign-top">Date</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Conception prête à être révisé</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">MD</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">2025-04-24 11:00</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Révision du spécificateur réalisée</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">MBJ</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">2025-04-28 09:30</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Révision du concepteur des tests réalisée</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">JM</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">2025-04-28 11:17</p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 2. Historique</caption>
<colgroup>
<col style="width: 70%;">
<col style="width: 10%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Changement important</th>
<th class="tableblock halign-center valign-top">Initiales</th>
<th class="tableblock halign-right valign-top">Date</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Conception initiale</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">BD</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">2024-11-13 10:28</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Deuxième ittération</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">MD</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">2025-04-24 12:55</p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 3. Référence</caption>
<colgroup>
<col>
<col style="width: 10%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Document</th>
<th class="tableblock halign-right valign-top">Consultation</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2_speds_presentation-srs.adoc</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">2025-04-24 10:55</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">200-P6.puml</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">2025-04-24 11:00</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_rôle_du_module">1. Rôle du module</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Le module « <em>SPEDS - présentation</em> »  est responsable de gérer l&#8217;encodage des données entre le destinateur et le destinataire. La couche de présentation s&#8217;occupe du chiffrement des données.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_modèle_propre_au_module">2. Modèle propre au module</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_modèle_relié_au_client">2.1. Modèle relié au client</h3>
<div class="paragraph">
<p>Le client doit mémoriser certaines informations afin d&#8217;assurer la correspondance entre messages de demande envoyés et ceux de confirmation réçus.</p>
</div>
<div class="paragraph">
<p>Conséquemment, l&#8217;identifiant de message obtenu dans la couche présentation lors d&#8217;une demande d&#8217;échange de données doit être conservé pour pouvoir vérifier la réception du message de confirmation correspondant.</p>
</div>
<div class="paragraph">
<p>Lors de la réception d&#8217;une confirmation, l&#8217;identifiant de message doit être récupéré dans l&#8217;entête du message et comparé à l&#8217;identifiant conservé pour vérifier qu&#8217;on s&#8217;attendait bien à récevoir ce message de confirmation.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 4. Données du modèle client</caption>
<colgroup>
<col style="width: 14.2857%;">
<col style="width: 42.8571%;">
<col style="width: 42.8572%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Nom</th>
<th class="tableblock halign-left valign-top">Format</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>id</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Une chaîne de caractères respectant le format UUID.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Un type décrivant un identifiant de message.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_modèle_relié_au_serveur">2.2. Modèle relié au serveur</h3>
<div class="paragraph">
<p>Le serveur doit mémoriser certaines informations afin d&#8217;assurer un suivi des messages qui rentrent et utiliser les bonnes informations de réponses.</p>
</div>
<div class="paragraph">
<p>Conséquemment, la clef SDEK que reçoit la couche présentation lors d&#8217;une indication doit être conservée pour être utilisée lors d&#8217;une réponse.</p>
</div>
<div class="paragraph">
<p>Lors de la réponse, cette clef doit être récupérée et être la clef utilisée pour faire le chiffrement.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 5. Données du modèle serveur</caption>
<colgroup>
<col style="width: 14.2857%;">
<col style="width: 42.8571%;">
<col style="width: 42.8572%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Nom</th>
<th class="tableblock halign-left valign-top">Format</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>SDEK</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Un tableau d&#8217;octets.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Un type décrivant la clé de chiffrement.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_mode_de_transmission">3. Mode de transmission</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Sans connexion avec accusé de réception.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_type_au_module">4. Type au module</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_type_simple_de_données">4.1. Type simple de données</h3>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 6. Type simple de donnée</caption>
<colgroup>
<col style="width: 14.2857%;">
<col style="width: 42.8571%;">
<col style="width: 42.8572%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Nom</th>
<th class="tableblock halign-left valign-top">Format</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>PGA</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Une chaîne de caractères.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Un type décrivant un identifiant de projet de gestion d&#8217;activité.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>SDEK</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Un tableau d&#8217;octets.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Un type décrivant la clé de chiffrement.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>msgtype</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Une énumération comprenant les valeurs <code>PRE.MSG.ENV</code> et <code>PRE.MSG.REC</code>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Un type décrivant un type de message.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>id</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Une chaîne de caractères respectant le format UUID.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Un type décrivant un identifiant de message.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>content</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Une chaîne de caractères.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Un type décrivant le contenu du message SPEDS.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_type_complexe_de_données">4.2. Type complexe de données</h3>
<div class="sect3">
<h4 id="_format_dentête_ent_p">4.2.1. Format d’entête (<code>Ent_P</code>)</h4>
<div class="paragraph">
<p>Un type décrivant un format d&#8217;entête.
Ce type est équivalent à la propriété <code>{header}</code> appartenant au schéma JSON du PDU
(cf. annexe <a href="#Message"><em>Protocol Data Unit</em> de la couche présentation (2)</a>).</p>
</div>
<div class="paragraph">
<p>Le PCI est l&#8217;équivalent de <code>Ent_P</code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_message_pdu">4.2.2. Message (PDU)</h4>
<div class="paragraph">
<p>Un type décrivant un format de message.
Ce type est équivalent au schéma JSON du même objet
(cf. annexe <a href="#Message"><em>Protocol Data Unit</em> de la couche présentation (2)</a>).</p>
</div>
</div>
<div class="sect3">
<h4 id="_interface_de_lunité_de_données_du_service_idu">4.2.3. Interface de l&#8217;unité de données du service (IDU)</h4>
<div class="paragraph">
<p>Unité d’information transférée en une seule interaction à l’interface de 2 couches, constituée d’information de contrôle d’interface (ICI(N)) et d&#8217;unité de service de données (SDU(N)).</p>
</div>
<div class="paragraph">
<p>(cf. annexe <a href="#InterfaceDataUnit-1-2"><em>Interface Data Unit</em> entre la couche application (1) et la couche présentation (2)</a>) et
(cf. annexe <a href="#InterfaceDataUnit-2-3"><em>Interface Data Unit</em> entre la couche présentation (2) et la couche session (3)</a>)</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_type_de_message">4.3. Type de message</h3>
<div class="paragraph">
<p>Pour <code>PRE.MSG.ENV</code> et <code>PRE.MSG.REC</code>, il faut suivre le schéma JSON suivant de la couche présentation
(cf. annexe <a href="#Message"><em>Protocol Data Unit</em> de la couche présentation (2)</a>).</p>
</div>
<div class="sect3">
<h4 id="_pre_msg_env">4.3.1. PRE.MSG.ENV</h4>
<div class="paragraph">
<p>Message contenant une demande de requête présentation.</p>
</div>
<div class="paragraph">
<p>Le type du message est avec la valeur PRE.MSG.ENV.</p>
</div>
</div>
<div class="sect3">
<h4 id="_pre_msg_rec">4.3.2. PRE.MSG.REC</h4>
<div class="paragraph">
<p>Message contenant un accusé de réception d’une demande de requête présentation.</p>
</div>
<div class="paragraph">
<p>Le type du message est avec la valeur PRE.MSG.REC.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_contrainte_du_module">5. Contrainte du module</h2>
<div class="sectionbody">
<div class="hdlist">
<table>
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<tr>
<td class="hdlist1">
[CON-001]
</td>
<td class="hdlist2">
<p>La clé symétrique <code>SDEK</code> utilisée pour les opérations cryptographiques est une clé de chiffrement de 256 bits.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
[CON-002]
</td>
<td class="hdlist2">
<p>L&#8217;algorithme de chiffrement est AES256-GCM.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
[CON-003]
</td>
<td class="hdlist2">
<p>Le format de sérialisation est JSON.</p>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_processus_du_module">6. Processus du module</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_processsus_pour_un_client">6.1. Processsus pour un client</h3>
<div class="hdlist">
<table>
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<tr>
<td class="hdlist1">
[PRO-1] Demande d&#8217;échanger des données
</td>
<td class="hdlist2">
<p>Demande d’échanger des données sous une requête.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
[PRO-2] Confirme l&#8217;échange de données
</td>
<td class="hdlist2">
<p>Confirme la réponse reçue par l&#8217;initiateur de la requête (contient les données que l&#8217;initiateur de la requête veut échanger).</p>
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="_pro_1_processus_demande_déchanger_des_données">6.1.1. [PRO-1] Processus « Demande d&#8217;échanger des données »</h4>
<div class="sect4">
<h5 id="_comportement">Comportement</h5>
<div class="hdlist">
<table>
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<tr>
<td class="hdlist1">
[PRO-1.1]
</td>
<td class="hdlist2">
<p>Récupération du ICI et SDU de l&#8217;InterfaceDataUnit-1_2 reçue en entrée.</p>
</td>
</tr>
</table>
</div>
<div class="hdlist">
<table>
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<tr>
<td class="hdlist1">
[PRO-1.2]
</td>
<td class="hdlist2">
<p>Chiffrer le <code>SDU</code>.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
[PRO-1.2.1]
</td>
<td class="hdlist2">
<p>Créer la clé de chiffrement symétrique <code>SDEK</code> ([CON-001] et [CON-002]);</p>
</td>
</tr>
<tr>
<td class="hdlist1">
[PRO-1.2.2]
</td>
<td class="hdlist2">
<p>Chiffrer le <code>SDU</code> avec l&#8217;algorithme de chiffrement [CON-002] avec la clé <code>SDEK</code>.</p>
</td>
</tr>
</table>
</div>
<div class="hdlist">
<table>
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<tr>
<td class="hdlist1">
[PRO-1.3]
</td>
<td class="hdlist2">
<p>Message PRE.MSG.ENV.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
[PRO-1.3.1]
</td>
<td class="hdlist2">
<p>Création du message PRE.MSG.ENV avec l&#8217;entête avec l&#8217;aide des informations de l&#8217;ICI [PRO-1.1], et le SDU chiffré [PRO-1.2].</p>
</td>
</tr>
<tr>
<td class="hdlist1">
[PRO-1.3.2]
</td>
<td class="hdlist2">
<p>Mémorisation de données du modèle client (identifiant du message PRE.MSG.ENV).</p>
</td>
</tr>
<tr>
<td class="hdlist1">
[PRO-1.3.3]
</td>
<td class="hdlist2">
<p>Sérialisation du message PRE.MSG.ENV [CON-003].</p>
</td>
</tr>
</table>
</div>
<div class="hdlist">
<table>
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<tr>
<td class="hdlist1">
[PRO-1.4]
</td>
<td class="hdlist2">
<p>Construction l&#8217;InterfaceDataUnit-2_3.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
[PRO-1.4.1]
</td>
<td class="hdlist2">
<p>Construction ICI: code de la source, code de la destination, PGA [PRO-1.1]; et clé <code>SDEK</code> [PRO-1.2.1].</p>
</td>
</tr>
<tr>
<td class="hdlist1">
[PRO-1.4.2]
</td>
<td class="hdlist2">
<p>Construction SDU: message PRE.MSG.ENV précédemment sérialisé.</p>
</td>
</tr>
</table>
</div>
<div class="hdlist">
<table>
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<tr>
<td class="hdlist1">
[PRO-1.5]
</td>
<td class="hdlist2">
<p>La sortie est l&#8217;InterfaceDataUnit-2_3 qui a été précédemment construit à [PRO-1.4].</p>
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="_interface">Interface</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Usage</th>
<th class="tableblock halign-left valign-top">Entrée</th>
<th class="tableblock halign-left valign-top">Sortie</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre>request</pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>InterfaceDataUnit-1_2</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>InterfaceDataUnit-2_3</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_erreur">Erreur</h5>
<div class="paragraph">
<p>S.O.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_pro_2_processus_confirme_léchange_de_données">6.1.2. [PRO-2] Processus « Confirme l&#8217;échange de données »</h4>
<div class="sect4">
<h5 id="_comportement_2">Comportement</h5>
<div class="hdlist">
<table>
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<tr>
<td class="hdlist1">
[PRO-2.1]
</td>
<td class="hdlist2">
<p>Message PRE.MSG.REC.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
[PRO-2.1.1]
</td>
<td class="hdlist2">
<p>Récupération du ICI et SDU de l&#8217;InterfaceDataUnit-2_3 reçue en entrée.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
[PRO-2.1.2]
</td>
<td class="hdlist2">
<p>Désérialisation du SDU, et doit être un message PRE.MSG.REC. Sinon, erreur: DeserializationException.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
[PRO-2.1.3]
</td>
<td class="hdlist2">
<p>Vérifier que l&#8217;identifiant du message correspond à une PRE.MSG.ENV qui a été précédemment envoyé. Sinon, InvalidPduId.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
[PRO-2.1.4]
</td>
<td class="hdlist2">
<p>Déchiffrer le <code>SDU</code> avec l&#8217;algorithme de chiffrement ([CON-001] et [CON-002]) avec la clé <code>SDEK</code> qui est accessible via le ICI. Si, erreur: CipherException.</p>
</td>
</tr>
</table>
</div>
<div class="hdlist">
<table>
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<tr>
<td class="hdlist1">
[PRO-2.2]
</td>
<td class="hdlist2">
<p>Construction l&#8217;InterfaceDataUnit-1_2.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
[PRO-2.2.1]
</td>
<td class="hdlist2">
<p>Construction ICI: code de la source, le code de destination, PGA [PRO-2.1].</p>
</td>
</tr>
<tr>
<td class="hdlist1">
[PRO-2.2.2]
</td>
<td class="hdlist2">
<p>Construction SDU: SDU déchiffré [PRO-2.1.4].</p>
</td>
</tr>
</table>
</div>
<div class="hdlist">
<table>
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<tr>
<td class="hdlist1">
[PRO-2.3]
</td>
<td class="hdlist2">
<p>La sortie est l&#8217;InterfaceDataUnit-1_2 qui a été précédemment construit à [PRO-2.2].</p>
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="_interface_2">Interface</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Usage</th>
<th class="tableblock halign-left valign-top">Entrée</th>
<th class="tableblock halign-left valign-top">Sortie</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre>confirm</pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>InterfaceDataUnit-2_3</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>InterfaceDataUnit-1_2</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_erreur_2">Erreur</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">DeserializationException</dt>
<dd>
<p>Erreur de désérialisation.</p>
</dd>
<dt class="hdlist1">CipherException</dt>
<dd>
<p>Erreur de déchiffrement.</p>
</dd>
<dt class="hdlist1">InvalidPduId</dt>
<dd>
<p>Erreur de l&#8217;id de message invalide.</p>
</dd>
</dl>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_processus_pour_un_serveur">6.2. Processus pour un serveur</h3>
<div class="hdlist">
<table>
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<tr>
<td class="hdlist1">
[PRO-3] Indique un échange de données
</td>
<td class="hdlist2">
<p>Reçoit la demande d’une requête avec les données échangées par l’initiateur de requête.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
[PRO-4] Répond à un échange de données
</td>
<td class="hdlist2">
<p>Répond à un initiateur de requête sous une réponse avec des données à échanger.</p>
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="_pro_3_processus_indique_un_échange_de_données">6.2.1. [PRO-3] Processus « Indique un échange de données »</h4>
<div class="sect4">
<h5 id="_comportement_3">Comportement</h5>
<div class="hdlist">
<table>
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<tr>
<td class="hdlist1">
[PRO-3.1]
</td>
<td class="hdlist2">
<p>Message PRE.MSG.ENV.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
[PRO-3.1.1]
</td>
<td class="hdlist2">
<p>Récupération du ICI et SDU de l&#8217;InterfaceDataUnit-2_3 reçue en entrée.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
[PRO-3.1.2]
</td>
<td class="hdlist2">
<p>Désérialisation du SDU, et doit être un message PRE.MSG.ENV. Sinon, erreur: DeserializationException.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
[PRO-3.1.3]
</td>
<td class="hdlist2">
<p>Déchiffrer le <code>SDU</code> avec l&#8217;algorithme de chiffrement ([CON-001] et [CON-002]) avec la clé <code>SDEK</code> qui est accessible via le ICI. Si, erreur: CipherException.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
[PRO-3.1.3]
</td>
<td class="hdlist2">
<p>Mémorisation de données du modèle serveur (clé SDEK du message PRE.MSG.ENV).</p>
</td>
</tr>
</table>
</div>
<div class="hdlist">
<table>
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<tr>
<td class="hdlist1">
[PRO-3.2]
</td>
<td class="hdlist2">
<p>Construction l&#8217;InterfaceDataUnit-1_2.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
[PRO-3.2.1]
</td>
<td class="hdlist2">
<p>Construction ICI: code de la source, le code de destination, PGA [PRO-3.1].</p>
</td>
</tr>
<tr>
<td class="hdlist1">
[PRO-3.2.2]
</td>
<td class="hdlist2">
<p>Construction SDU: SDU déchiffré [PRO-3.1.3].</p>
</td>
</tr>
</table>
</div>
<div class="hdlist">
<table>
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<tr>
<td class="hdlist1">
[PRO-3.3]
</td>
<td class="hdlist2">
<p>La sortie est l&#8217;InterfaceDataUnit-1_2 qui a été précédemment construit à [PRO-3.2].</p>
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="_interface_3">Interface</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Usage</th>
<th class="tableblock halign-left valign-top">Entrée</th>
<th class="tableblock halign-left valign-top">Sortie</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre>indication</pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>InterfaceDataUnit-2_3</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>InterfaceDataUnit-1_2</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_erreur_3">Erreur</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">DeserializationException</dt>
<dd>
<p>Erreur de désérialisation.</p>
</dd>
<dt class="hdlist1">CipherException</dt>
<dd>
<p>Erreur de déchiffrement.</p>
</dd>
</dl>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_pro_4_processus_répond_à_un_échange_de_données">6.2.2. [PRO-4] Processus « Répond à un échange de données »</h4>
<div class="sect4">
<h5 id="_comportement_4">Comportement</h5>
<div class="hdlist">
<table>
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<tr>
<td class="hdlist1">
[PRO-4.1]
</td>
<td class="hdlist2">
<p>Récupération du ICI et SDU de l&#8217;InterfaceDataUnit-1_2 reçue en entrée.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
[PRO-4.2]
</td>
<td class="hdlist2">
<p>Chiffrer le SDU avec l&#8217;algorithme de chiffrement ([CON-001] et [CON-002]) avec la clé <code>SDEK</code> qui est accessible via les données du modèle serveur.</p>
</td>
</tr>
</table>
</div>
<div class="hdlist">
<table>
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<tr>
<td class="hdlist1">
[PRO-4.3]
</td>
<td class="hdlist2">
<p>Message PRE.MSG.REC.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
[PRO-4.3.1]
</td>
<td class="hdlist2">
<p>Création du message PRE.MSG.REC avec l&#8217;entête avec l&#8217;aide des informations de l&#8217;ICI [PRO-4.1], et le SDU chiffré [PRO-4.2].</p>
</td>
</tr>
<tr>
<td class="hdlist1">
[PRO-4.3.1.1]
</td>
<td class="hdlist2">
<p>L&#8217;identifiant de la réponse est identique à celui de la requête associée.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
[PRO-4.3.2]
</td>
<td class="hdlist2">
<p>Sérialisation du message PRE.MSG.REC [CON-003].</p>
</td>
</tr>
</table>
</div>
<div class="hdlist">
<table>
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<tr>
<td class="hdlist1">
[PRO-4.4]
</td>
<td class="hdlist2">
<p>Construction l&#8217;InterfaceDataUnit-2_3.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
[PRO-4.4.1]
</td>
<td class="hdlist2">
<p>Construction ICI: le code de la source, le code de la destination, PGA, et clé <code>SDEK</code> qui sont identiques à [PRO-4.1].</p>
</td>
</tr>
<tr>
<td class="hdlist1">
[PRO-4.4.2]
</td>
<td class="hdlist2">
<p>Construction SDU: message PRE.MSG.REC précédemment sérialisé.</p>
</td>
</tr>
</table>
</div>
<div class="hdlist">
<table>
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<tr>
<td class="hdlist1">
[PRO-4.5]
</td>
<td class="hdlist2">
<p>La sortie est l&#8217;InterfaceDataUnit-2_3 qui a été précédemment construit à [PRO-4.4].</p>
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="_interface_4">Interface</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Usage</th>
<th class="tableblock halign-left valign-top">Entrée</th>
<th class="tableblock halign-left valign-top">Sortie</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre>response</pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>InterfaceDataUnit-1_2</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>InterfaceDataUnit-2_3</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_erreur_4">Erreur</h5>
<div class="paragraph">
<p>S.O.</p>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_incongruités">7. Incongruités</h2>
<div class="sectionbody">
<div class="paragraph">
<p>S.O</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_annexes">8. Annexes</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_glossaire">8.1. Glossaire</h3>
<div class="hdlist">
<table>
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<tr>
<td class="hdlist1">
Source
</td>
<td class="hdlist2">
<p>L&#8217;entité qui est l&#8217;initiateur de la requête.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
Destination
</td>
<td class="hdlist2">
<p>L&#8217;entité qui reçoit la requête.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
Couche supérieure
</td>
<td class="hdlist2">
<p>La couche de communication qui utilise les services de la couche présentation.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
Couche inférieure
</td>
<td class="hdlist2">
<p>La couche de communication qui offre des services utilisés par la couche présentation.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
SDU
</td>
<td class="hdlist2">
<p><code>Service Data Unit</code> - Unité de données du service.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
ICI
</td>
<td class="hdlist2">
<p><code>Information Control Interface</code> - Information de contrôle de l&#8217;interface.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
PDU
</td>
<td class="hdlist2">
<p><code>Protocol Data Unit</code> - Unité de données de protocole.</p>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="InterfaceDataUnit-1-2">8.2. <em>Interface Data Unit</em> entre la couche application (1) et la couche présentation (2)</h3>
<div class="listingblock">
<div class="title">Format d&#8217;interface d&#8217;unité de données entre la couche supérieure et la couche présentation</div>
<div class="content">
<pre class="highlight"><code class="language-json" data-lang="json">{
  "$id": "https://griis.ca/speds/json/schema/idu/InterfaceDataUnit-1_2.schema.json",
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "title": "InterfaceDataUnit-1_2 - 2025-07-01T21:30:00-0400",
  "description": "An agreed way of communication among SPEDS layers Application (1) and Presentation (2).",
  "type": "object",
  "properties": {
    "context": {
      "description": "The context shared between these two SPEDS layers. This is the ICI (Interface Control Information), i.e. an information passed across an interface to coordinate interactions between two adjacent layers.",
      "type": "object",
      "properties": {
        "PGA": {
          "description": "The PGA identifier (a Lodad GUID).",
          "type": "string",
          "format": "LodadGUID"
        },
        "source_code": {
          "description": "The source entity code (a Lodad GUID)",
          "type": "string",
          "format": "LodadGUID"
        },
        "destination_code": {
          "description": "The destination entity code (a Lodad GUID)",
          "type": "string",
          "format": "LodadGUID"
        },
        "tracking_number": {
          "description": "The number used to track the PDU. If the PDU is a response (resp. a confirmation), it should be the tracking number of the corresponding original indication (resp. request).",
          "type": "string",
          "format": "uuid"
        },
        "options": {
          "description": "The options shared between the layers.",
          "oneOf": [
            {
              "const": false
            },
            {
              "type": "object",
              "minProperties": 1
            }
          ]
        }
      },
      "required": [
        "PGA",
        "source_code",
        "destination_code",
        "tracking_number",
        "options"
      ],
      "additionalProperties": false
    },
    "message": {
      "description": "The message shared between these two SPEDS layers. This is the APDU : the PDU (Protocol Data Unit) of the Application layer (1).",
      "type": "string"
    }
  },
  "required": [
    "context",
    "message"
  ],
  "additionalProperties": false
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="InterfaceDataUnit-2-3">8.3. <em>Interface Data Unit</em> entre la couche présentation (2) et la couche session (3)</h3>
<div class="listingblock">
<div class="title">Format d&#8217;interface d&#8217;unité de données entre la couche présentation et la couche inférieure</div>
<div class="content">
<pre class="highlight"><code class="language-json" data-lang="json">{
  "$id": "https://griis.ca/speds/json/schema/idu/InterfaceDataUnit-2_3.schema.json",
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "title": "InterfaceDataUnit-2_3 - 2025-07-01T21:30:00-0400",
  "description": "An agreed way of communication among SPEDS layers Presentation (2) and Session (3).",
  "type": "object",
  "properties": {
    "context": {
      "description": "The context shared between these two SPEDS layers. This is the ICI (Interface Control Information), i.e. an information passed across an interface to coordinate interactions between two adjacent layers.",
      "type": "object",
      "properties": {
        "PGA": {
          "description": "The PGA identifier (a Lodad GUID).",
          "type": "string",
          "format": "LodadGUID"
        },
        "source_code": {
          "description": "The source entity code (a Lodad GUID)",
          "type": "string",
          "format": "LodadGUID"
        },
        "destination_code": {
          "description": "The destination entity code (a Lodad GUID)",
          "type": "string",
          "format": "LodadGUID"
        },
        "SDEK": {
          "description": "The symmetric data-encryption key.",
          "type": "string"
        },
        "tracking_number": {
          "description": "The number used to track the PDU. If the PDU is a response (resp. a confirmation), it should be the tracking number of the corresponding original indication (resp. request).",
          "type": "string",
          "format": "uuid"
        },
        "options": {
          "description": "The options shared between the layers.",
          "oneOf": [
            {
              "const": false
            },
            {
              "type": "object",
              "minProperties": 1
            }
          ]
        }
      },
      "required": [
        "PGA",
        "source_code",
        "destination_code",
        "SDEK",
        "tracking_number",
        "options"
      ],
      "additionalProperties": false
    },
    "message": {
      "description": "The message shared between these two SPEDS layers. This is the PPDU : the PDU (Protocol Data Unit) of the Presentation layer (2).",
      "type": "string"
    }
  },
  "required": [
    "context",
    "message"
  ],
  "additionalProperties": false
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="Message">8.4. <em>Protocol Data Unit</em> de la couche présentation (2)</h3>
<div class="listingblock">
<div class="title">Format du message de la couche présentation</div>
<div class="content">
<pre class="highlight"><code class="language-json" data-lang="json">{
  "$id": "https://griis.ca/speds/json/schema/pdu/ProtocolDataUnit-2-PRE.schema.json",
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "title": "ProtocolDataUnit-2-PRE - 2025-04-11T15:15:07-0400",
  "$defs": {
    "iri": {
      "description": "A valid IR according to RFC 3987",
      "type": "string",
      "format": "iri"
    },
    "uuid": {
      "description": "A valid UUID according to RFC 4122",
      "type": "string",
      "format": "uuid"
    },
    "bytestring": {
      "description": "A base-64 encoded bytestring",
      "type": "string",
      "contentEncoding": "base64"
    },
    "speds_version": {
      "type": "string",
      "pattern": "^[0-9]+(\\.[0-9]+)(\\.[0-9]+[a-z]*)$"
    }
  },
  "description": "For the Presentation Layer of SPEDS (Layer 2) : a unit of data which is transferred from one end of a connection to the other with no loss of identity or meaning.",
  "type": "object",
  "examples": [
    {
      "header": {
        "msgtype": "PRE.MSG.ENV",
        "id": "ba62cebf-e9fa-4472-b776-49cbf04ab32a",
        "parameters": false,
        "SPEDS": {
          "version": "6.1.0",
          "reference": "https://depot.griis.usherbrooke.ca/documentations/product-asciidoc-documentation/-/tree/main/speds-line/speds-library"
        }
      },
      "content": "TUVnQ1FRQ285K0JwTVJZUS9kTDNEUzJDeUp4UkYrajZjdGJUMy9RcDg0K0tlRmhuaWk3TlQ3ZkVMaWxLVVNueApTMzBXQXZRQ0NvMnlVMW9yZmdxcjQxbU03ME1CQWdNQkFBRT0="
    }
  ],
  "properties": {
    "header": {
      "description": "The header of a SPEDS message. Mandatory in all layers.",
      "type": "object",
      "properties": {
        "msgtype": {
          "description": "The type of a SPEDS message. Mandatory in all layers.",
          "type": "string",
          "enum": [
            "PRE.MSG.ENV",
            "PRE.MSG.REC"
          ]
        },
        "id": {
          "description": "The identifier of a SPEDS message. Mandatory in all layers.",
          "$ref": "#/$defs/uuid"
        },
        "parameters": {
          "description": "The parameters of the Presentation layer.",
          "oneOf": [
            {
              "const": false
            },
            {
              "type": "object",
              "minProperties": 1
            }
          ]
        },
        "SPEDS": {
          "type": "object",
          "properties": {
            "version": {
              "description": "The version of the SPEDS protocol used for this SDU.",
              "$ref": "#/$defs/speds_version"
            },
            "reference": {
              "description": "The reference of the SPEDS protocol version used for this SDU.",
              "$ref": "#/$defs/iri"
            }
          },
          "required": [
            "version",
            "reference"
          ],
          "additionalProperties": false
        }
      },
      "required": [
        "msgtype",
        "id",
        "parameters",
        "SPEDS"
      ]
    },
    "content": {
      "description": "The content of a SPEDS message. Mandatory in all layers.",
      "type": "string"
    }
  },
  "required": [
    "header",
    "content"
  ],
  "additionalProperties": false
}</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Version <br>
Last updated 2025-07-22 14:19:14 -0400
</div>
</div>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  messageStyle: "none",
  tex2jax: {
    inlineMath: [["\\(", "\\)"]],
    displayMath: [["\\[", "\\]"]],
    ignoreClass: "nostem|nolatexmath"
  },
  asciimath2jax: {
    delimiters: [["\\$", "\\$"]],
    ignoreClass: "nostem|noasciimath"
  },
  TeX: { equationNumbers: { autoNumber: "none" } }
})
MathJax.Hub.Register.StartupHook("AsciiMath Jax Ready", function () {
  MathJax.InputJax.AsciiMath.postfilterHooks.Add(function (data, node) {
    if ((node = data.script.parentNode) && (node = node.parentNode) && node.classList.contains("stemblock")) {
      data.math.root.display = "block"
    }
    return data
  })
})
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/MathJax.js?config=TeX-MML-AM_HTMLorMML"></script>
</body>
</html>