{
  "$id": "https://griis.ca/speds/json/schema/idu/InterfaceDataUnit-4_5.schema.json",
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "title": "InterfaceDataUnit-4_5 - 2025-04-10T14:02:00-0400",
  "description": "An agreed way of communication among SPEDS layers Transport (4) and Network (5).",
  "type": "object",
  "javaType": "InterfaceDataUnit45",
  "properties": {
    "context": {
      "description": "The context shared between these two SPEDS layers. This is the ICI (Interface Control Information), i.e. an information passed across an interface to coordinate interactions between two adjacent layers.",
      "type": "object",
      "javaType": "Context45",
      "properties": {
        "source_iri": {
          "description": "The source entity IRI (according to RFC3987).",
          "type": "string",
          "format": "iri"
        },
        "destination_iri": {
          "description": "The destination entity IRI (according to RFC3987).",
          "type": "string",
          "format": "iri"
        },
        "tracking_number": {
          "description": "The number used to track the SDU. If the SDU is a response (resp. a confirmation), it should be the tracking number of the corresponding original indication (resp. request).",
          "type": "string",
          "format": "uuid"
        },
        "options": {
          "description": "The options shared between the layers.",
          "oneOf": [
            {
              "const": false
            },
            {
              "type": "object",
              "minProperties": 1
            }
          ]
        }
      },
      "required": [
        "source_iri",
        "destination_iri",
        "tracking_number",
        "options"
      ],
      "additionalProperties": false
    },
    "message": {
      "description": "The message shared between these two SPEDS layers. This is the SDU (Service Data Unit) of the Transport layer (4).",
      "type": "string"
    }
  },
  "required": [
    "context",
    "message"
  ],
  "additionalProperties": false
}
